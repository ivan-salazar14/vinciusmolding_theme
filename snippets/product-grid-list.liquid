{%- assign variant = product.selected_or_first_available_variant -%}
{%- if product.available -%}
{%- assign func = "Shopify.addItem(" | append: variant.id | append: ", 1)" -%}
{%- endif -%}
<div class="product-grid-list">
  <div class="single-product-wrap">
    {# Debug: featured_image = {{ product.featured_image | json }} #}
    {# Debug: images = {{ product.images | json }} #}
    <div style="font-size:10px; color:red;">
  RAW: {{ product.featured_image }}<br>
  RAW JSON: {{ product.featured_image | json }}<br>
  RAW RAW: {% raw %}{{ product.featured_image }}{% endraw %}<br>
  RAW APPEND: {{ product.featured_image | append: '' }}
</div>

  <div class="product-image">
      <a class="pro-img" href="{{ product.url | within: collection }}">
        {% if product.featured_image %}
        {% assign featured_image_url = product.featured_image | json | replace: '"', '' %}
<img class="img-fluid img1"
     src="{{ featured_image_url }}"
     alt="{{ product.title | escape }}"
     loading="lazy">
        {% endif %}
        {% if product.images.size > 1 and product.images[1] %}
        {% assign img2_url = product.images[1] | json | replace: '"', '' %}
<img class="img-fluid img2"
     src="{{ img2_url }}"
     alt="{{ product.title | escape }}"
     loading="lazy">
        {% endif %}
      </a>
    </div>
    <div class="product-content">
      <div class="product-ratting">
          <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
      </div>
      <div class="product-title">
        <a href="{{ product.url | within: collection }}" title="{{ product.title }}">{{ product.title | truncate: 30 }}</a>
      </div>
      <div class="price-box" id="ProductPrice">
        <span class="new-price">{{ product.selected_or_first_available_variant.price | money }}</span>
        {%- if product.compare_at_price_max > product.price -%}
        <span class="old-price">{{ product.selected_or_first_available_variant.compare_at_price | money }}</span>
        {%- endif -%}
      </div>
      <div class="product-action">
        {% if product.available %}
        <a href="javascript:void(0);" onclick="{{ func }}; return false;" class="add-to-cart ajax-spin-cart" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ 'products.product.add_to_cart' | t }}">
          <span class="cart-title"><i class="ri-shopping-cart-line"></i></span>
          <span class="cart-loading load-anim"><i class="ri-loader-4-line"></i></span>
          <span class="cart-added"><i class="ri-check-line"></i></span>
          <span class="cart-unavailable"><i class="ri-error-warning-fill"></i></span>
        </a>
        {% else %}
        <a class="disabled-add-to-cart add-to-cart disabled" disabled="disabled" href="#" title="Out of stock"><i class="ri-shopping-cart-line"></i></a>
        {% endif %}
        {%- if settings.product_quickview_enalbe -%}
        <a href="javascript:void(0);" onclick="quiqview('{{ product.handle | handleize }}')" class="quick-view" data-bs-toggle="tooltip" data-placement="top" title="{{ settings.quick_view_title }}">
          <i class="ri-eye-line"></i>
        </a>
        {%- endif -%}
        {%- if settings.wishlist_enable -%}
        {% render 'wishlist-button3', product: product %}
        {%- endif -%}
      </div>
    </div>
  </div>
</div>